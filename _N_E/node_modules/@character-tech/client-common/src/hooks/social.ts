import { useGetFollowers, useGetFollowing } from './queries/social';

export const useIsFollowing = (username?: string) => {
  const { data: following, isLoading } = useGetFollowing();

  return {
    isLoading,
    isFollowing: username ? (following ?? []).includes(username) : false,
  };
};

export const useSocialCounts = () => {
  const { data: followers, isLoading: isLoadingFollowers } = useGetFollowers();
  const { data: following, isLoading: isLoadingFollowing } = useGetFollowing();

  return {
    isLoadingFollowersCount: isLoadingFollowers,
    followersCount: (followers ?? []).length,
    isLoadingFollowingCount: isLoadingFollowing,
    followingCount: (following ?? []).length,
  };
};
